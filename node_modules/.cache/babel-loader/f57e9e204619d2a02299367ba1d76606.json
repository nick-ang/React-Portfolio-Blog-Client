{"ast":null,"code":"import _objectSpread from\"/Users/nicholasang/Downloads/kotlin-spring-boot-jpa-rest-api-demo-master/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"/Users/nicholasang/Downloads/kotlin-spring-boot-jpa-rest-api-demo-master/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _regeneratorRuntime from\"/Users/nicholasang/Downloads/kotlin-spring-boot-jpa-rest-api-demo-master/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/nicholasang/Downloads/kotlin-spring-boot-jpa-rest-api-demo-master/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/nicholasang/Downloads/kotlin-spring-boot-jpa-rest-api-demo-master/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/nicholasang/Downloads/kotlin-spring-boot-jpa-rest-api-demo-master/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/nicholasang/Downloads/kotlin-spring-boot-jpa-rest-api-demo-master/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/nicholasang/Downloads/kotlin-spring-boot-jpa-rest-api-demo-master/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/nicholasang/Downloads/kotlin-spring-boot-jpa-rest-api-demo-master/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Alert,Button}from'reactstrap';import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{createElement as _createElement}from\"react\";var Article=function Article(props){return/*#__PURE__*/_jsxs(\"div\",{className:\"article-container p-2 m-2 d-flex flex-column\",children:[/*#__PURE__*/_jsx(\"h3\",{children:props.name}),/*#__PURE__*/_jsx(\"div\",{className:\"article-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"subtitle-container\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"Title: \",props.title]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Content: \",props.content]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"article-footer\",children:[/*#__PURE__*/_jsx(Button,{color:\"secondary\",tag:Link,to:'/articles/'+props.id,children:\"Edit\"}),/*#__PURE__*/_jsx(Button,{color:\"danger\",onClick:function onClick(){return props.remove(props.id);},children:\"Delete\"})]})]});};var ArticlesList=/*#__PURE__*/function(_Component){_inherits(ArticlesList,_Component);var _super=_createSuper(ArticlesList);function ArticlesList(props){var _this;_classCallCheck(this,ArticlesList);_this=_super.call(this,props);_this.state={articles:[],isLoading:true,errorMessage:null};_this.remove=_this.remove.bind(_assertThisInitialized(_this));return _this;}_createClass(ArticlesList,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,body,articles;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:this.setState({isLoading:true});_context.next=3;return this.props.api.getAll();case 3:response=_context.sent;if(response.ok){_context.next=8;break;}this.setState({errorMessage:\"Failed to load: \".concat(response.status,\" \").concat(response.statusText),isLoading:false});_context.next=13;break;case 8:_context.next=10;return response.json();case 10:body=_context.sent;articles=body;this.setState({articles:articles,isLoading:false,errorMessage:null});case 13:case\"end\":return _context.stop();}}},_callee,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"remove\",value:function(){var _remove=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id){var response,updatedArticles;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return this.props.api.delete(id);case 2:response=_context2.sent;if(!response.ok){this.setState({errorMessage:\"Failed to delete article: \".concat(response.status,\" \").concat(response.statusText)});}else{updatedArticles=_toConsumableArray(this.state.articles).filter(function(i){return i.id!==id;});this.setState({articles:updatedArticles,errorMessage:null});}case 4:case\"end\":return _context2.stop();}}},_callee2,this);}));function remove(_x){return _remove.apply(this,arguments);}return remove;}()},{key:\"render\",value:function render(){var _this2=this;var _this$state=this.state,articles=_this$state.articles,isLoading=_this$state.isLoading,errorMessage=_this$state.errorMessage;if(isLoading){return/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"});}return/*#__PURE__*/_jsxs(\"div\",{children:[this.props.navbar,/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-row justify-content-between p-3\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"articles-title\",children:\"Articles\"}),/*#__PURE__*/_jsx(Button,{color:\"success\",tag:Link,to:\"/articles/new\",children:\"Add New\"})]}),errorMessage?/*#__PURE__*/_jsx(\"div\",{className:\"d-flex flex-row justify-content-center\",children:/*#__PURE__*/_jsx(Alert,{color:\"warning\",style:{flex:1,maxWidth:'80%'},children:errorMessage})}):null,/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-row flex-container flex-wrap justify-content-center\",children:[articles.map(function(article){return/*#__PURE__*/_createElement(Article,_objectSpread(_objectSpread({},article),{},{remove:_this2.remove.bind(_this2),key:article.id}));}),!articles||articles.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"No articles!\"}):null]})]});}}]);return ArticlesList;}(Component);export default ArticlesList;","map":{"version":3,"sources":["/Users/nicholasang/Downloads/kotlin-spring-boot-jpa-rest-api-demo-master/client/src/ArticlesList.js"],"names":["React","Component","Alert","Button","Link","Article","props","name","title","content","id","remove","ArticlesList","state","articles","isLoading","errorMessage","bind","setState","api","getAll","response","ok","status","statusText","json","body","delete","updatedArticles","filter","i","navbar","flex","maxWidth","map","article","length"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {\n  Alert,\n  Button\n} from 'reactstrap';\nimport { Link } from 'react-router-dom';\n\nconst Article = (props) => (\n  <div className=\"article-container p-2 m-2 d-flex flex-column\">\n    <h3>{props.name}</h3>\n    <div className=\"article-body\">\n      <div className=\"subtitle-container\">\n        <div>Title: {props.title}</div>\n        <div>Content: {props.content}</div>\n      </div>\n    </div>\n    <div className=\"article-footer\">\n      <Button color=\"secondary\" tag={Link} to={'/articles/' + props.id}>Edit</Button>\n      <Button color=\"danger\" onClick={() => props.remove(props.id)}>Delete</Button>\n    </div>\n  </div>\n);\n\nclass ArticlesList extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      articles: [],\n      isLoading: true,\n      errorMessage: null\n    };\n    this.remove = this.remove.bind(this);\n  }\n\n  async componentDidMount() {\n    this.setState({isLoading: true});\n    const response = await this.props.api.getAll();\n    if (!response.ok) {\n      this.setState({\n          errorMessage: `Failed to load: ${response.status} ${response.statusText}`,\n          isLoading: false\n        }\n      )\n    }\n    else {\n      const body = await response.json();\n      const articles = body;\n      this.setState({\n        articles: articles,\n        isLoading: false,\n        errorMessage: null\n      });\n    }\n  }\n\n  async remove(id) {\n    let response = await this.props.api.delete(id);\n    if (!response.ok) {\n      this.setState({errorMessage: `Failed to delete article: ${response.status} ${response.statusText}`})\n    }\n    else {\n      let updatedArticles = [...this.state.articles].filter(i => i.id !== id);\n      this.setState({articles: updatedArticles, errorMessage: null});\n    }\n  }\n\n  render() {\n    const {articles, isLoading, errorMessage} = this.state;\n\n    if (isLoading) {\n      return <p>Loading...</p>;\n    }\n\n    return (\n      <div>\n        {this.props.navbar}\n        <div className=\"d-flex flex-row justify-content-between p-3\">\n          <h3 className=\"articles-title\">Articles</h3>\n          <Button color=\"success\" tag={Link} to=\"/articles/new\">Add New</Button>\n        </div>\n        {errorMessage ?\n          <div className=\"d-flex flex-row justify-content-center\">\n            <Alert color=\"warning\" style={{flex:1, maxWidth:'80%'}}>\n              {errorMessage}\n            </Alert>\n          </div> : null\n        }\n        <div className=\"d-flex flex-row flex-container flex-wrap justify-content-center\">\n          {articles.map( article =>\n            <Article {...article} remove={this.remove.bind(this)} key={article.id}/>\n          )}\n          {!articles || articles.length === 0 ? <p>No articles!</p> : null}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default ArticlesList;"]},"metadata":{},"sourceType":"module"}