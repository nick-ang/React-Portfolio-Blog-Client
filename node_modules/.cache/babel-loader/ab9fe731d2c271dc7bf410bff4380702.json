{"ast":null,"code":"import _regeneratorRuntime from\"/Users/nicholasang/code/nick-ang/kotlin-spring-boot-jpa-rest-api-demo-master/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/nicholasang/code/nick-ang/kotlin-spring-boot-jpa-rest-api-demo-master/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _objectSpread from\"/Users/nicholasang/code/nick-ang/kotlin-spring-boot-jpa-rest-api-demo-master/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/Users/nicholasang/code/nick-ang/kotlin-spring-boot-jpa-rest-api-demo-master/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/nicholasang/code/nick-ang/kotlin-spring-boot-jpa-rest-api-demo-master/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";var Api=/*#__PURE__*/function(){function Api(authToken){_classCallCheck(this,Api);this.headers={'Accept':'application/json','Content-Type':'application/json'};this.BASE_URL='/api/articles';this.authToken=authToken;}_createClass(Api,[{key:\"createHeaders\",value:function createHeaders(){return this.authToken?_objectSpread(_objectSpread({},this.headers),{},{'Authorization':'Bearer '+this.authToken}):this.headers;}},{key:\"getAll\",value:function(){var _getAll=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(this.BASE_URL,{method:'GET',headers:this.createHeaders()});case 2:return _context.abrupt(\"return\",_context.sent);case 3:case\"end\":return _context.stop();}}},_callee,this);}));function getAll(){return _getAll.apply(this,arguments);}return getAll;}()},{key:\"getById\",value:function(){var _getById=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"\".concat(this.BASE_URL,\"/\").concat(id),{method:'GET',headers:this.createHeaders()});case 2:return _context2.abrupt(\"return\",_context2.sent);case 3:case\"end\":return _context2.stop();}}},_callee2,this);}));function getById(_x){return _getById.apply(this,arguments);}return getById;}()},{key:\"delete\",value:function(){var _delete2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(id){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return fetch(\"\".concat(this.BASE_URL,\"/\").concat(id),{method:'DELETE',headers:this.createHeaders()});case 2:return _context3.abrupt(\"return\",_context3.sent);case 3:case\"end\":return _context3.stop();}}},_callee3,this);}));function _delete(_x2){return _delete2.apply(this,arguments);}return _delete;}()},{key:\"update\",value:function(){var _update=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(item){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return fetch(\"\".concat(this.BASE_URL,\"/\").concat(item.id),{method:'PUT',headers:this.createHeaders(),body:JSON.stringify(item)});case 2:return _context4.abrupt(\"return\",_context4.sent);case 3:case\"end\":return _context4.stop();}}},_callee4,this);}));function update(_x3){return _update.apply(this,arguments);}return update;}()},{key:\"create\",value:function(){var _create=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(item){return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return fetch(this.BASE_URL,{method:'POST',headers:this.createHeaders(),body:JSON.stringify(item)});case 2:return _context5.abrupt(\"return\",_context5.sent);case 3:case\"end\":return _context5.stop();}}},_callee5,this);}));function create(_x4){return _create.apply(this,arguments);}return create;}()}]);return Api;}();export default Api;","map":{"version":3,"sources":["/Users/nicholasang/code/nick-ang/kotlin-spring-boot-jpa-rest-api-demo-master/client/src/Api.js"],"names":["Api","authToken","headers","BASE_URL","fetch","method","createHeaders","id","item","body","JSON","stringify"],"mappings":"++BAAMA,CAAAA,G,yBAEJ,aAAYC,SAAZ,CAAuB,gCAIvBC,OAJuB,CAIb,CACR,SAAU,kBADF,CAER,eAAgB,kBAFR,CAJa,MASvBC,QATuB,CASZ,eATY,CACrB,KAAKF,SAAL,CAAiBA,SAAjB,CACD,C,6CASD,wBAAgB,CACd,MAAO,MAAKA,SAAL,gCACF,KAAKC,OADH,MAEL,gBAAiB,UAAY,KAAKD,SAF7B,GAGH,KAAKC,OAHT,CAID,C,qGAED,yJACeE,CAAAA,KAAK,CAAC,KAAKD,QAAN,CAAgB,CAChCE,MAAM,CAAE,KADwB,CAEhCH,OAAO,CAAE,KAAKI,aAAL,EAFuB,CAAhB,CADpB,kH,mLAOA,kBAAcC,EAAd,6IACeH,CAAAA,KAAK,WAAI,KAAKD,QAAT,aAAqBI,EAArB,EAA2B,CAC3CF,MAAM,CAAE,KADmC,CAE3CH,OAAO,CAAE,KAAKI,aAAL,EAFkC,CAA3B,CADpB,sH,uLAOA,kBAAaC,EAAb,6IACeH,CAAAA,KAAK,WAAI,KAAKD,QAAT,aAAqBI,EAArB,EAA2B,CAC3CF,MAAM,CAAE,QADmC,CAE3CH,OAAO,CAAE,KAAKI,aAAL,EAFkC,CAA3B,CADpB,sH,uLAOA,kBAAaE,IAAb,6IACeJ,CAAAA,KAAK,WAAI,KAAKD,QAAT,aAAqBK,IAAI,CAACD,EAA1B,EAAgC,CAChDF,MAAM,CAAE,KADwC,CAEhDH,OAAO,CAAE,KAAKI,aAAL,EAFuC,CAGhDG,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeH,IAAf,CAH0C,CAAhC,CADpB,sH,oLAQA,kBAAaA,IAAb,6IACeJ,CAAAA,KAAK,CAAC,KAAKD,QAAN,CAAgB,CAChCE,MAAM,CAAE,MADwB,CAEhCH,OAAO,CAAE,KAAKI,aAAL,EAFuB,CAGhCG,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeH,IAAf,CAH0B,CAAhB,CADpB,sH,kGASF,cAAeR,CAAAA,GAAf","sourcesContent":["class Api {\n\n  constructor(authToken) {\n    this.authToken = authToken;\n  }\n\n  headers = {\n    'Accept': 'application/json',\n    'Content-Type': 'application/json'\n  };\n\n  BASE_URL = '/api/articles';\n\n  createHeaders() {\n    return this.authToken ? {\n      ...this.headers,\n      'Authorization': 'Bearer ' + this.authToken\n    } : this.headers;\n  }\n\n  async getAll() {\n    return await fetch(this.BASE_URL, {\n      method: 'GET',\n      headers: this.createHeaders()\n    });\n  }\n\n  async getById(id) {\n    return await fetch(`${this.BASE_URL}/${id}`, {\n      method: 'GET',\n      headers: this.createHeaders()\n    });\n  }\n\n  async delete(id) {\n    return await fetch(`${this.BASE_URL}/${id}`, {\n      method: 'DELETE',\n      headers: this.createHeaders()\n    });\n  }\n\n  async update(item) {\n    return await fetch(`${this.BASE_URL}/${item.id}`, {\n      method: 'PUT',\n      headers: this.createHeaders(),\n      body: JSON.stringify(item)\n    });\n  }\n\n  async create(item) {\n    return await fetch(this.BASE_URL, {\n      method: 'POST',\n      headers: this.createHeaders(),\n      body: JSON.stringify(item)\n    });\n  }\n}\n\nexport default Api;"]},"metadata":{},"sourceType":"module"}