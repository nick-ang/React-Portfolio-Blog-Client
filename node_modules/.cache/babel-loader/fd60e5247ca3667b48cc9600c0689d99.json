{"ast":null,"code":"import _objectSpread from\"/Users/nicholasang/Downloads/kotlin-spring-boot-jpa-rest-api-demo-master/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/Users/nicholasang/Downloads/kotlin-spring-boot-jpa-rest-api-demo-master/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/nicholasang/Downloads/kotlin-spring-boot-jpa-rest-api-demo-master/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/nicholasang/Downloads/kotlin-spring-boot-jpa-rest-api-demo-master/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/nicholasang/Downloads/kotlin-spring-boot-jpa-rest-api-demo-master/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/nicholasang/Downloads/kotlin-spring-boot-jpa-rest-api-demo-master/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/nicholasang/Downloads/kotlin-spring-boot-jpa-rest-api-demo-master/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/nicholasang/Downloads/kotlin-spring-boot-jpa-rest-api-demo-master/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Link,withRouter}from'react-router-dom';import{Alert,Button,Container,Form,FormGroup,Input,Label}from'reactstrap';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ArticleEdit=/*#__PURE__*/function(_Component){_inherits(ArticleEdit,_Component);var _super=_createSuper(ArticleEdit);function ArticleEdit(props){var _this;_classCallCheck(this,ArticleEdit);_this=_super.call(this,props);_this.emptyItem={title:'',content:''};_this.state={item:_this.emptyItem,errorMessage:null,isCreate:false};_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));return _this;}_createClass(ArticleEdit,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,article;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:this.state.isCreate=this.props.match.params.id==='new';// are we editing or creating?\nif(this.state.isCreate){_context.next=9;break;}_context.next=4;return this.props.api.getById(this.props.match.params.id);case 4:response=_context.sent;_context.next=7;return response.json();case 7:article=_context.sent;this.setState({item:article});case 9:case\"end\":return _context.stop();}}},_callee,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"handleChange\",value:function handleChange(event){var target=event.target;var value=target.value;var name=target.name;var item=_objectSpread({},this.state.item);item[name]=value;this.setState({item:item});}},{key:\"handleSubmit\",value:function(){var _handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(event){var _this$state,item,isCreate,result;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:event.preventDefault();_this$state=this.state,item=_this$state.item,isCreate=_this$state.isCreate;if(!isCreate){_context2.next=8;break;}_context2.next=5;return this.props.api.create(item);case 5:_context2.t0=_context2.sent;_context2.next=11;break;case 8:_context2.next=10;return this.props.api.update(item);case 10:_context2.t0=_context2.sent;case 11:result=_context2.t0;if(!result.ok){this.setState({errorMessage:\"Failed to \".concat(isCreate?'create':'update',\" record: \").concat(result.status,\" \").concat(result.statusText)});}else{this.setState({errorMessage:null});this.props.history.push('/articles');}case 13:case\"end\":return _context2.stop();}}},_callee2,this);}));function handleSubmit(_x){return _handleSubmit.apply(this,arguments);}return handleSubmit;}()},{key:\"render\",value:function render(){var _this$state2=this.state,item=_this$state2.item,errorMessage=_this$state2.errorMessage,isCreate=_this$state2.isCreate;var title=/*#__PURE__*/_jsx(\"h2\",{children:isCreate?'Add Article':'Edit Article'});return/*#__PURE__*/_jsxs(\"div\",{children:[this.props.navbar,/*#__PURE__*/_jsxs(Container,{style:{textAlign:'left'},children:[title,errorMessage?/*#__PURE__*/_jsx(Alert,{color:\"warning\",children:errorMessage}):null,/*#__PURE__*/_jsxs(Form,{onSubmit:this.handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(FormGroup,{className:\"col-md-8 mb-3\",children:[/*#__PURE__*/_jsx(Label,{for:\"name\",children:\"Title\"}),/*#__PURE__*/_jsx(Input,{type:\"text\",name:\"title\",id:\"name\",value:item.title||'',onChange:this.handleChange,autoComplete:\"name\"})]}),/*#__PURE__*/_jsxs(FormGroup,{className:\"col-md-4 mb-3\",children:[/*#__PURE__*/_jsx(Label,{for:\"phone\",children:\"Content\"}),/*#__PURE__*/_jsx(Input,{type:\"text\",name:\"content\",id:\"phone\",value:item.content||'',onChange:this.handleChange,autoComplete:\"phone\"})]})]}),/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Button,{color:\"primary\",type:\"submit\",children:\"Save\"}),' ',/*#__PURE__*/_jsx(Button,{color:\"secondary\",tag:Link,to:\"/coffee-shops\",children:\"Cancel\"})]})]})]})]});}}]);return ArticleEdit;}(Component);export default withRouter(ArticleEdit);","map":{"version":3,"sources":["/Users/nicholasang/Downloads/kotlin-spring-boot-jpa-rest-api-demo-master/client/src/ArticleEdit.js"],"names":["React","Component","Link","withRouter","Alert","Button","Container","Form","FormGroup","Input","Label","ArticleEdit","props","emptyItem","title","content","state","item","errorMessage","isCreate","handleChange","bind","handleSubmit","match","params","id","api","getById","response","json","article","setState","event","target","value","name","preventDefault","create","update","result","ok","status","statusText","history","push","navbar","textAlign"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport { Alert, Button, Container, Form, FormGroup, Input, Label } from 'reactstrap';\n\nclass ArticleEdit extends Component {\n\n  emptyItem = {\n    title: '',\n    content: '',\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      item: this.emptyItem,\n      errorMessage: null,\n      isCreate: false\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  async componentDidMount() {\n    this.state.isCreate = this.props.match.params.id === 'new'; // are we editing or creating?\n    if (!this.state.isCreate) {\n      const response = await this.props.api.getById(this.props.match.params.id);\n      const article = await response.json();\n      this.setState({item: article});\n    }\n  }\n\n  handleChange(event) {\n    const target = event.target;\n    const value = target.value;\n    const name = target.name;\n    let item = {...this.state.item};\n    item[name] = value;\n    this.setState({item});\n  }\n\n  async handleSubmit(event) {\n    event.preventDefault();\n    const {item, isCreate} = this.state;\n\n    let result = isCreate ? await this.props.api.create(item) : await this.props.api.update(item);\n\n    if (!result.ok) {\n      this.setState({errorMessage: `Failed to ${isCreate ? 'create' : 'update'} record: ${result.status} ${result.statusText}`})\n    } else {\n      this.setState({errorMessage: null});\n      this.props.history.push('/articles');\n    }\n\n  }\n\n  render() {\n    const {item, errorMessage, isCreate} = this.state;\n    const title = <h2>{isCreate ? 'Add Article' : 'Edit Article'}</h2>;\n\n    return (\n      <div>\n        {this.props.navbar}\n        <Container style={{textAlign: 'left'}}>\n          {title}\n          {errorMessage ?\n            <Alert color=\"warning\">\n              {errorMessage}\n            </Alert> : null\n          }\n          <Form onSubmit={this.handleSubmit}>\n            <div className=\"row\">\n                            <FormGroup className=\"col-md-8 mb-3\">\n                              <Label for=\"name\">Title</Label>\n                              <Input type=\"text\" name=\"title\" id=\"name\" value={item.title || ''}\n                                     onChange={this.handleChange} autoComplete=\"name\"/>\n                            </FormGroup>\n                            <FormGroup className=\"col-md-4 mb-3\">\n                              <Label for=\"phone\">Content</Label>\n                              <Input type=\"text\" name=\"content\" id=\"phone\" value={item.content || ''}\n                                     onChange={this.handleChange} autoComplete=\"phone\"/>\n                            </FormGroup>\n            </div>\n           <FormGroup>\n              <Button color=\"primary\" type=\"submit\">Save</Button>{' '}\n              <Button color=\"secondary\" tag={Link} to=\"/coffee-shops\">Cancel</Button>\n            </FormGroup>\n\n\n          </Form>\n        </Container>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(ArticleEdit);"]},"metadata":{},"sourceType":"module"}